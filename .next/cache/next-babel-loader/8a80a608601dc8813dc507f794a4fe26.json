{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\n\nvar HOME =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HOME, _Component);\n\n  function HOME(props) {\n    var _this;\n\n    _classCallCheck(this, HOME);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HOME).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onLogOut\", function () {\n      localStorage.clear();\n      window.location.replace('/');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onLogin\", function () {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: username,\n          password: password\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var note = json.note,\n            email = json.email;\n\n        if (note === \"ok\") {\n          localStorage.setItem(\"key\", email);\n          window.location.replace('/');\n        } else {\n          _this.setState({\n            note: note\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onRegister\", function () {\n      window.location.replace('/register');\n    });\n\n    _this.state = {\n      profile: {},\n      email_id: false,\n      note: '',\n      username: '',\n      password: '',\n      active: true\n    };\n    return _this;\n  }\n\n  _createClass(HOME, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var email_id = localStorage.getItem(\"key\");\n\n      if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {} else {\n        fetch('/api/test/' + email_id).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          var profile = json.profile;\n\n          if (profile === 'email wrong') {} else {\n            _this2.setState({\n              email_id: true,\n              profile: profile\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          profile = _this$state2.profile,\n          email_id = _this$state2.email_id,\n          note = _this$state2.note;\n\n      if (email_id == false) {\n        return __jsx(\"div\", {\n          style: {\n            fontSize: '30px'\n          }\n        }, __jsx(\"div\", null, \"Login\"), __jsx(\"label\", {\n          style: {\n            padding: \"10px\"\n          }\n        }, \"Email\"), __jsx(\"input\", {\n          style: {\n            padding: \"10px\"\n          },\n          id: \"email\",\n          onChange: function onChange(e) {\n            return _this3.setState({\n              email: e.target.value\n            });\n          }\n        }), __jsx(\"br\", null), __jsx(\"label\", {\n          style: {\n            padding: \"10px\"\n          }\n        }, \"Password\"), __jsx(\"input\", {\n          style: {\n            padding: \"10px\"\n          },\n          id: \"password\",\n          onChange: function onChange(e) {\n            return _this3.setState({\n              password: e.target.value\n            });\n          }\n        }), __jsx(\"br\", null), __jsx(\"button\", {\n          onClick: this._onLogin\n        }, \"Login\"), __jsx(\"button\", {\n          onClick: this._onRegister\n        }, \"Register\"), __jsx(\"div\", null, note));\n      } else {\n        return __jsx(\"div\", {\n          style: {\n            fontSize: '35px',\n            marginLeft: \"200px\"\n          }\n        }, __jsx(\"div\", null, \" USER PROFILE \"), __jsx(\"div\", null, \"username: \", profile.name, \" \"), __jsx(\"div\", null, \"email: \", profile.email, \" \"), __jsx(\"div\", null, \"password: \", profile.password, \" \"), __jsx(\"div\", null, \"phone:  \", profile.phone), __jsx(\"button\", {\n          onClick: this._onLogOut\n        }, \"LogOut\"), __jsx(\"div\", null, __jsx(\"button\", {\n          onClick: this._onCreate_Trade\n        }, \"CREATE TRADE ADS\"), \" \", __jsx(\"br\", null), __jsx(\"button\", {\n          onClick: this._onCreate_Loan\n        }, \"CREATE LOAN ADS\"), __jsx(\"button\", {\n          onClick: this._onCreateNews\n        }, \"Choose Source\"), __jsx(\"button\", {\n          onClick: this._onGetNew\n        }, \"GET new\")));\n      }\n    }\n  }]);\n\n  return HOME;\n}(Component);\n\nexport { HOME as default };","map":{"version":3,"sources":["C:/Users/Tony Flash/Desktop/study/study/pages/index.js"],"names":["React","Component","HOME","props","localStorage","clear","window","location","replace","state","username","password","fetch","method","headers","Accept","body","then","res","json","note","email","setItem","setState","profile","email_id","active","getItem","undefined","trim","fontSize","padding","e","target","value","_onLogin","_onRegister","marginLeft","name","phone","_onLogOut","_onCreate_Trade","_onCreate_Loan","_onCreateNews","_onGetNew"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class HOME extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            profile: {},\n            email_id: false,\n            note: '',\n            username: '',\n            password: '',\n            active: true\n        }\n    }\n    componentDidMount() {\n        const email_id = localStorage.getItem(\"key\");\n        if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {\n        } else {\n            fetch('/api/test/' + email_id)\n                .then(res => res.json())\n                .then(json => {\n                    const { profile } = json;\n                    if (profile === 'email wrong') {\n                    } else {\n                        this.setState({\n                            email_id: true,\n                            profile: profile\n                        })\n                    }\n                })\n        }\n    };\n    _onLogOut = () => {\n        localStorage.clear();\n        window.location.replace('/');\n    };\n    _onLogin = () => {\n        const { username, password } = this.state;\n        fetch('/api/login', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username,\n                password\n            })\n        })\n            .then(res => res.json())\n            .then(json => {\n                const { note, email } = json;\n                if (note === \"ok\") {\n                    localStorage.setItem(\"key\", email)\n                    window.location.replace('/')\n                } else {\n                    this.setState({ note })\n                }\n\n            })\n    };\n    _onRegister = () => {\n        window.location.replace('/register')\n    };\n  \n  \n    render() {\n\n        const { profile, email_id, note } = this.state;\n        if (email_id == false) {\n            return (\n                <div style={{ fontSize: '30px', }} >\n                    <div>Login</div>\n                    <label style={{ padding: \"10px\" }}>Email</label>\n                    <input style={{ padding: \"10px\" }} id='email' onChange={(e) => this.setState({ email: e.target.value })} /><br />\n                    <label style={{ padding: \"10px\" }} >Password</label>\n                    <input style={{ padding: \"10px\" }} id='password' onChange={(e) => this.setState({ password: e.target.value })} /><br />\n                    <button onClick={this._onLogin}>Login</button>\n                    <button onClick={this._onRegister}>Register</button>\n                    <div>{note}</div>\n                </div>\n            )\n        } else {\n            return (\n                <div style={{ fontSize: '35px', marginLeft: \"200px\", }}>\n                    <div > USER PROFILE </div>\n                    <div>username: {profile.name} </div>\n                    <div>email: {profile.email} </div>\n                    <div>password: {profile.password} </div>\n                    <div>phone:  {profile.phone}</div>\n                    <button onClick={this._onLogOut}>LogOut</button>\n                    <div>\n                        <button onClick={this._onCreate_Trade}>CREATE TRADE ADS</button> <br />\n                        <button onClick={this._onCreate_Loan}>CREATE LOAN ADS</button>\n                        <button onClick={this._onCreateNews}>Choose Source</button>\n                        <button onClick={this._onGetNew}>GET new</button>\n                    </div>\n                </div>\n            )\n\n        }\n\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}