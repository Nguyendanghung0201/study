{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\n\nvar HOME =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HOME, _Component);\n\n  function HOME(props) {\n    var _this;\n\n    _classCallCheck(this, HOME);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HOME).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onLogOut\", function () {\n      localStorage.clear();\n      window.location.replace('/');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onLogin\", function () {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          email: email,\n          password: password\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        var note = json.note,\n            email = json.email;\n\n        if (note === \"ok\") {\n          localStorage.setItem(\"key\", email);\n          window.location.replace('/');\n        } else {\n          _this.setState({\n            note: note\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onRegister\", function () {\n      window.location.replace('/register');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCreate_Trade\", function () {\n      window.location.replace('/trade');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCreate_Loan\", function () {\n      window.location.replace('/loan');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCreateNews\", function () {\n      fetch('/api/insert/source_new', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: 'danghung',\n          source: [\"Coindesk\", \"Bitcoin News\", \"Coin\"]\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onGetNew\", function () {\n      fetch('/api/source_new', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: 'danghung'\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n      });\n    });\n\n    _this.state = {\n      profile: {},\n      email_id: false,\n      note: '',\n      email: '',\n      password: '',\n      active: true\n    };\n    return _this;\n  }\n\n  _createClass(HOME, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var email_id = localStorage.getItem(\"key\");\n\n      if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {} else {\n        fetch('/api/test/' + email_id).then(function (res) {\n          return res.json();\n        }).then(function (json) {\n          var profile = json.profile;\n\n          if (profile === 'email wrong') {} else {\n            _this2.setState({\n              email_id: true,\n              profile: profile\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          profile = _this$state2.profile,\n          email_id = _this$state2.email_id,\n          note = _this$state2.note;\n\n      if (email_id == false) {\n        return __jsx(\"div\", {\n          style: {\n            fontSize: '30px'\n          }\n        }, __jsx(\"div\", null, \"Login\"), __jsx(\"label\", {\n          style: {\n            padding: \"10px\"\n          }\n        }, \"Email\"), __jsx(\"input\", {\n          style: {\n            padding: \"10px\"\n          },\n          id: \"email\",\n          onChange: function onChange(e) {\n            return _this3.setState({\n              email: e.target.value\n            });\n          }\n        }), __jsx(\"br\", null), __jsx(\"label\", {\n          style: {\n            padding: \"10px\"\n          }\n        }, \"Password\"), __jsx(\"input\", {\n          style: {\n            padding: \"10px\"\n          },\n          id: \"password\",\n          onChange: function onChange(e) {\n            return _this3.setState({\n              password: e.target.value\n            });\n          }\n        }), __jsx(\"br\", null), __jsx(\"button\", {\n          onClick: this._onLogin\n        }, \"Login\"), __jsx(\"button\", {\n          onClick: this._onRegister\n        }, \"Register\"), __jsx(\"div\", null, note));\n      } else {\n        return __jsx(\"div\", {\n          style: {\n            fontSize: '35px',\n            marginLeft: \"200px\"\n          }\n        }, __jsx(\"div\", null, \" USER PROFILE \"), __jsx(\"div\", null, \"username: \", profile.name, \" \"), __jsx(\"div\", null, \"email: \", profile.email, \" \"), __jsx(\"div\", null, \"password: \", profile.password, \" \"), __jsx(\"div\", null, \"phone:  \", profile.phone), __jsx(\"button\", {\n          onClick: this._onLogOut\n        }, \"LogOut\"), __jsx(\"div\", null, __jsx(\"button\", {\n          onClick: this._onCreate_Trade\n        }, \"CREATE TRADE ADS\"), \" \", __jsx(\"br\", null), __jsx(\"button\", {\n          onClick: this._onCreate_Loan\n        }, \"CREATE LOAN ADS\"), __jsx(\"button\", {\n          onClick: this._onCreateNews\n        }, \"Choose Source\"), __jsx(\"button\", {\n          onClick: this._onGetNew\n        }, \"GET new\")));\n      }\n    }\n  }]);\n\n  return HOME;\n}(Component);\n\nexport { HOME as default };","map":{"version":3,"sources":["C:/Users/Tony Flash/Desktop/project/backendvn-danghung/backend_test/pages/index.js"],"names":["React","Component","HOME","props","localStorage","clear","window","location","replace","state","email","password","fetch","method","headers","Accept","body","then","res","json","note","setItem","setState","username","source","data","console","log","profile","email_id","active","getItem","undefined","trim","fontSize","padding","e","target","value","_onLogin","_onRegister","marginLeft","name","phone","_onLogOut","_onCreate_Trade","_onCreate_Loan","_onCreateNews","_onGetNew"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class HOME extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            profile: {},\n            email_id: false,\n            note: '',\n            email: '',\n            password: '',\n            active: true\n        }\n    }\n    componentDidMount() {\n        const email_id = localStorage.getItem(\"key\");\n\n        if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {\n        } else {\n            fetch('/api/test/' + email_id)\n                .then(res => res.json())\n                .then(json => {\n                    const { profile } = json;\n                    if (profile === 'email wrong') {\n                    } else {\n                        this.setState({\n                            email_id: true,\n                            profile: profile\n                        })\n                    }\n                })\n        }\n    };\n    _onLogOut = () => {\n        localStorage.clear();\n        window.location.replace('/');\n    };\n    _onLogin = () => {\n        const { email, password } = this.state;\n        fetch('/api/login', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email,\n                password\n            })\n        })\n            .then(res => res.json())\n            .then(json => {\n                const { note, email } = json;\n                if (note === \"ok\") {\n                    localStorage.setItem(\"key\", email)\n                    window.location.replace('/')\n                } else {\n                    this.setState({ note })\n                }\n\n            })\n    };\n    _onRegister = () => {\n        window.location.replace('/register')\n    };\n    _onCreate_Trade = () => {\n        window.location.replace('/trade')\n    }\n    _onCreate_Loan = () => {\n        window.location.replace('/loan')\n\n    }\n    _onCreateNews = () => {\n        fetch('/api/insert/source_new', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: 'danghung',\n                source: [\"Coindesk\", \"Bitcoin News\", \"Coin\"]\n            })\n        }).then(res => res.json())\n            .then(data => {\n                console.log(data)\n            })\n    }\n    _onGetNew = () => {\n        fetch('/api/source_new', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: 'danghung'\n            })\n        }).then(res => res.json())\n            .then(data => {\n                console.log(data)\n            })\n    }\n\n    render() {\n\n        const { profile, email_id, note } = this.state;\n        if (email_id == false) {\n            return (\n                <div style={{ fontSize: '30px', }} >\n                    <div>Login</div>\n                    <label style={{ padding: \"10px\" }}>Email</label>\n                    <input style={{ padding: \"10px\" }} id='email' onChange={(e) => this.setState({ email: e.target.value })} /><br />\n                    <label style={{ padding: \"10px\" }} >Password</label>\n                    <input style={{ padding: \"10px\" }} id='password' onChange={(e) => this.setState({ password: e.target.value })} /><br />\n                    <button onClick={this._onLogin}>Login</button>\n                    <button onClick={this._onRegister}>Register</button>\n                    <div>{note}</div>\n                </div>\n            )\n        } else {\n            return (\n                <div style={{ fontSize: '35px', marginLeft: \"200px\", }}>\n                    <div > USER PROFILE </div>\n                    <div>username: {profile.name} </div>\n                    <div>email: {profile.email} </div>\n                    <div>password: {profile.password} </div>\n                    <div>phone:  {profile.phone}</div>\n                    <button onClick={this._onLogOut}>LogOut</button>\n                    <div>\n                        <button onClick={this._onCreate_Trade}>CREATE TRADE ADS</button> <br />\n                        <button onClick={this._onCreate_Loan}>CREATE LOAN ADS</button>\n                        <button onClick={this._onCreateNews}>Choose Source</button>\n                        <button onClick={this._onGetNew}>GET new</button>\n                    </div>\n                </div>\n            )\n\n        }\n\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}