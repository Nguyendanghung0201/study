{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nexport default class HOME extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"_onLogOut\", () => {\n      localStorage.clear();\n      window.location.replace('/');\n    });\n\n    _defineProperty(this, \"_onLogin\", () => {\n      const {\n        email,\n        password\n      } = this.state;\n      fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          email,\n          password\n        })\n      }).then(res => res.json()).then(json => {\n        const {\n          note,\n          email\n        } = json;\n\n        if (note === \"ok\") {\n          localStorage.setItem(\"key\", email);\n          window.location.replace('/');\n        } else {\n          this.setState({\n            note\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"_onRegister\", () => {\n      window.location.replace('/register');\n    });\n\n    _defineProperty(this, \"_onCreate_Trade\", () => {\n      window.location.replace('/trade');\n    });\n\n    _defineProperty(this, \"_onCreate_Loan\", () => {\n      window.location.replace('/loan');\n    });\n\n    _defineProperty(this, \"_onCreateNews\", () => {\n      fetch('/api/insert/source_new', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: 'danghung',\n          source: [\"Coindesk\", \"Bitcoin News\", \"Coin\"]\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n      });\n    });\n\n    _defineProperty(this, \"_onGetNew\", () => {\n      fetch('/api/source_new', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          username: 'danghung'\n        })\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n      });\n    });\n\n    this.state = {\n      profile: {},\n      email_id: false,\n      note: '',\n      email: '',\n      password: '',\n      active: true\n    };\n  }\n\n  componentDidMount() {\n    const email_id = localStorage.getItem(\"key\");\n\n    if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {} else {\n      fetch('/api/test/' + email_id).then(res => res.json()).then(json => {\n        const {\n          profile\n        } = json;\n\n        if (profile === 'email wrong') {} else {\n          this.setState({\n            email_id: true,\n            profile: profile\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      profile,\n      email_id,\n      note\n    } = this.state;\n\n    if (email_id == false) {\n      return __jsx(\"div\", {\n        style: {\n          fontSize: '30px'\n        }\n      }, __jsx(\"div\", null, \"Login\"), __jsx(\"label\", {\n        style: {\n          padding: \"10px\"\n        }\n      }, \"Email\"), __jsx(\"input\", {\n        style: {\n          padding: \"10px\"\n        },\n        id: \"email\",\n        onChange: e => this.setState({\n          email: e.target.value\n        })\n      }), __jsx(\"br\", null), __jsx(\"label\", {\n        style: {\n          padding: \"10px\"\n        }\n      }, \"Password\"), __jsx(\"input\", {\n        style: {\n          padding: \"10px\"\n        },\n        id: \"password\",\n        onChange: e => this.setState({\n          password: e.target.value\n        })\n      }), __jsx(\"br\", null), __jsx(\"button\", {\n        onClick: this._onLogin\n      }, \"Login\"), __jsx(\"button\", {\n        onClick: this._onRegister\n      }, \"Register\"), __jsx(\"div\", null, note));\n    } else {\n      return __jsx(\"div\", {\n        style: {\n          fontSize: '35px',\n          marginLeft: \"200px\"\n        }\n      }, __jsx(\"div\", null, \" USER PROFILE \"), __jsx(\"div\", null, \"username: \", profile.name, \" \"), __jsx(\"div\", null, \"email: \", profile.email, \" \"), __jsx(\"div\", null, \"password: \", profile.password, \" \"), __jsx(\"div\", null, \"phone:  \", profile.phone), __jsx(\"button\", {\n        onClick: this._onLogOut\n      }, \"LogOut\"), __jsx(\"div\", null, __jsx(\"button\", {\n        onClick: this._onCreate_Trade\n      }, \"CREATE TRADE ADS\"), \" \", __jsx(\"br\", null), __jsx(\"button\", {\n        onClick: this._onCreate_Loan\n      }, \"CREATE LOAN ADS\"), __jsx(\"button\", {\n        onClick: this._onCreateNews\n      }, \"Choose Source\"), __jsx(\"button\", {\n        onClick: this._onGetNew\n      }, \"GET new\")));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Tony Flash/Desktop/project/backendvn-danghung/backend_test/pages/index.js"],"names":["React","Component","HOME","constructor","props","localStorage","clear","window","location","replace","email","password","state","fetch","method","headers","Accept","body","then","res","json","note","setItem","setState","username","source","data","console","log","profile","email_id","active","componentDidMount","getItem","undefined","trim","render","fontSize","padding","e","target","value","_onLogin","_onRegister","marginLeft","name","phone","_onLogOut","_onCreate_Trade","_onCreate_Loan","_onCreateNews","_onGetNew"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class HOME extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            profile: {},\n            email_id: false,\n            note: '',\n            email: '',\n            password: '',\n            active: true\n        }\n    }\n    componentDidMount() {\n        const email_id = localStorage.getItem(\"key\");\n\n        if (email_id === undefined || email_id === null || email_id === '' || email_id.trim() === '') {\n        } else {\n            fetch('/api/test/' + email_id)\n                .then(res => res.json())\n                .then(json => {\n                    const { profile } = json;\n                    if (profile === 'email wrong') {\n                    } else {\n                        this.setState({\n                            email_id: true,\n                            profile: profile\n                        })\n                    }\n                })\n        }\n    };\n    _onLogOut = () => {\n        localStorage.clear();\n        window.location.replace('/');\n    };\n    _onLogin = () => {\n        const { email, password } = this.state;\n        fetch('/api/login', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email,\n                password\n            })\n        })\n            .then(res => res.json())\n            .then(json => {\n                const { note, email } = json;\n                if (note === \"ok\") {\n                    localStorage.setItem(\"key\", email)\n                    window.location.replace('/')\n                } else {\n                    this.setState({ note })\n                }\n\n            })\n    };\n    _onRegister = () => {\n        window.location.replace('/register')\n    };\n    _onCreate_Trade = () => {\n        window.location.replace('/trade')\n    }\n    _onCreate_Loan = () => {\n        window.location.replace('/loan')\n\n    }\n    _onCreateNews = () => {\n        fetch('/api/insert/source_new', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: 'danghung',\n                source: [\"Coindesk\", \"Bitcoin News\", \"Coin\"]\n            })\n        }).then(res => res.json())\n            .then(data => {\n                console.log(data)\n            })\n    }\n    _onGetNew = () => {\n        fetch('/api/source_new', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: 'danghung'\n            })\n        }).then(res => res.json())\n            .then(data => {\n                console.log(data)\n            })\n    }\n\n    render() {\n\n        const { profile, email_id, note } = this.state;\n        if (email_id == false) {\n            return (\n                <div style={{ fontSize: '30px', }} >\n                    <div>Login</div>\n                    <label style={{ padding: \"10px\" }}>Email</label>\n                    <input style={{ padding: \"10px\" }} id='email' onChange={(e) => this.setState({ email: e.target.value })} /><br />\n                    <label style={{ padding: \"10px\" }} >Password</label>\n                    <input style={{ padding: \"10px\" }} id='password' onChange={(e) => this.setState({ password: e.target.value })} /><br />\n                    <button onClick={this._onLogin}>Login</button>\n                    <button onClick={this._onRegister}>Register</button>\n                    <div>{note}</div>\n                </div>\n            )\n        } else {\n            return (\n                <div style={{ fontSize: '35px', marginLeft: \"200px\", }}>\n                    <div > USER PROFILE </div>\n                    <div>username: {profile.name} </div>\n                    <div>email: {profile.email} </div>\n                    <div>password: {profile.password} </div>\n                    <div>phone:  {profile.phone}</div>\n                    <button onClick={this._onLogOut}>LogOut</button>\n                    <div>\n                        <button onClick={this._onCreate_Trade}>CREATE TRADE ADS</button> <br />\n                        <button onClick={this._onCreate_Loan}>CREATE LOAN ADS</button>\n                        <button onClick={this._onCreateNews}>Choose Source</button>\n                        <button onClick={this._onGetNew}>GET new</button>\n                    </div>\n                </div>\n            )\n\n        }\n\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}